% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/deriveWeights.R
\name{deriveWeights}
\alias{deriveWeights}
\title{Derive per-gene weights for BulkDecon}
\usage{
deriveWeights(
  norm,
  raw = NULL,
  error.model = "dsp",
  weight.by.TIL.resid.sd = FALSE
)
}
\arguments{
\item{norm}{Matrix of normalized expression (genes × samples).}

\item{raw}{Optional raw counts matrix (genes × samples).}

\item{error.model}{Character; currently unused except passed to
\code{runErrorModel()} for future-proofing. Default: "dsp".}

\item{weight.by.TIL.resid.sd}{Logical; if TRUE, use the built-in
\code{mean.resid.sd} vector to model biological variability.}
}
\value{
A matrix of weights of the same dimension as \code{norm}.
}
\description{
Computes technical and biological variance components and returns a
gene-by-sample weight matrix used by \code{algorithm2()} and
\code{bulkdecon()}. If \code{raw} is provided, technical SDs are learned
from the data. Biological SDs can optionally be estimated from
TIL residual variances included in the package.
}
